<div ng-if="!$ctrl.selectedCategoryBySeason && !$ctrl.selectedTeam">
    <!-- Open registrations forms -->
    <h2>Formulaires d'inscriptions</h2>
    <ul>
        <li ng-repeat="categoryBySeason in $ctrl.openCategoriesBySeason">
            <span class="asLink"
                  ng-click="$ctrl.selectCategoryBySeason(categoryBySeason)">
                Saison {{categoryBySeason.season.name}}, {{categoryBySeason.category.name}}
            </span>
        </li>
    </ul>

    <!-- Registered teams -->
    <h2>Équipes inscrites</h2>
    <ul>
        <li ng-repeat="team in $ctrl.teams">
            <span class="asLink"
                  ng-click="$ctrl.selectTeam(team.id)">
                Saison {{team.season.name}}, {{team.category.name}} : {{team.name}}
            </span>
            <span class="label label--ok" ng-if="team.feePaymentDate">Payé</span>
            <span class="label label--error" ng-if="!team.feePaymentDate">Non-payé</span>
        </li>
    </ul>
</div>


<st-championship-registration-form
        ng-if="$ctrl.selectedCategoryBySeason"
        st-category-by-season="$ctrl.selectedCategoryBySeason"
        st-club="$ctrl.club"
        st-go-back="$ctrl.unselectCategoryBySeason()"
        st-send-registration="$ctrl.sendRegistration(registration)">
</st-championship-registration-form>

<!-- Selected team -->
<div ng-if="$ctrl.selectedTeam">
    <p><span class="asLink" ng-click="$ctrl.unselectTeam()">Retour</span></p>
    <h2>{{$ctrl.selectedTeam.name}}, saison {{$ctrl.selectedTeam.season.name}}, {{$ctrl.selectedTeam.category.name}}</h2>
    <h3>Frais d'inscription</h3>
    <p>
        <span ng-if="$ctrl.selectedTeam.feePaymentDate">
            Payés le {{$ctrl.selectedTeam.feePaymentDate}}
        </span>
        <span ng-if="!$ctrl.selectedTeam.feePaymentDate">
            Non-payés
        </span>
    </p>
    <h3>Responsable d'équipe</h3>
    <p>
        {{$ctrl.selectedTeam.manager.firstName}} {{$ctrl.selectedTeam.manager.lastName}}<br />
        {{$ctrl.selectedTeam.manager.email}}<br />
        {{$ctrl.selectedTeam.manager.phoneNumber}} / {{$ctrl.selectedTeam.manager.mobileNumber}}
    </p>
    <h3>Salle pour les matchs à domicile</h3>
    <p><a href="/lieu/{{$ctrl.selectedTeam.homeVenue.id}}">{{$ctrl.selectedTeam.homeVenue.name}}</a></p>
    <h3>Joueuses et joueurs</h3>
    <ul>
        <li ng-repeat="player in $ctrl.selectedTeam.players">
            {{player.firstName}} {{player.lastName}} :
            <span class="label label--ok" ng-if="player.licensePaymentDate">Payé</span>
            <span class="label label--error" ng-if="!player.licensePaymentDate">Non-payé</span>
        </li>
    </ul>
    <form name="addPlayersForm" class="adminForm" novalidate>
        <label>Ajouter des joueurs</label>
        <tags-input ng-model="$ctrl.newPlayers"
                    add-from-autocomplete-only="true"
                    display-property="fullName"
                    display-key="id"
                    replace-spaces-with-dashes="false">
            <auto-complete source="$ctrl.loadMembersForNewPlayers($query)"
                           display-property="fullName">
            </auto-complete>
        </tags-input>
        <div class="formActions">
            <button class="button button--primary"
                    ng-click="$ctrl.submitNewPlayers()"
                    ng-disabled="addPlayersForm.$invalid || $ctrl.sendingNewPlayers">
                Ajouter
            </button>
        </div>
    </form>
</div>